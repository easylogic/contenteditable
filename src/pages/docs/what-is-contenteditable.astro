---
import SiteNav from '../../components/SiteNav.astro';
import DocsSidebar from '../../components/DocsSidebar.astro';
import BaseHead from '../../components/BaseHead.astro';
import TableOfContents from '../../components/TableOfContents.astro';
import '../../styles/global.css';

// Define headings for TOC
const headings = [
  { depth: 2, slug: 'basic-usage', text: 'Basic usage' },
  { depth: 2, slug: 'key-characteristics', text: 'Key characteristics' },
  { depth: 2, slug: 'common-use-cases', text: 'Common use cases' },
  { depth: 2, slug: 'important-considerations', text: 'Important considerations' },
  { depth: 2, slug: 'related-resources', text: 'Related resources' },
];
---

<html lang="en">
  <head>
    <BaseHead title="What is contenteditable? – contenteditable.lab" description="Introduction to the contenteditable attribute." />
  </head>
  <body>
    <SiteNav />
    <main
      style="
        display: flex;
        max-width: 100%;
        margin: 0;
        padding: 0;
      "
    >
      <DocsSidebar currentPath={Astro.url.pathname} />

      <section
        style="
          flex: 1;
          display: flex;
          max-width: 1120px;
          margin: 0 auto;
          padding: 1.75rem 1.25rem 2.5rem;
          width: 100%;
          gap: 1.5rem;
        "
      >
      <div style="flex: 1;">
      <header style="margin-bottom: 2rem;">
        <nav style="margin-bottom: 1rem; font-size: 0.85rem;">
          <a href="/docs" style="color: var(--text-muted); text-decoration: none;">Documentation</a>
          <span style="color: var(--text-faint); margin: 0 0.5rem;">/</span>
          <span style="color: var(--text-primary);">What is contenteditable?</span>
        </nav>
        <h1
          style="
            font-size: 2rem;
            line-height: 1.1;
            margin: 0 0 0.5rem 0;
          "
        >
          What is contenteditable?
        </h1>
        <p style="margin: 0; font-size: 0.95rem; color: var(--text-secondary);">
          The contenteditable attribute makes any HTML element editable by the user.
        </p>
      </header>

      <article
        style="
          border-radius: 0.75rem;
          border: 1px solid var(--border-light);
          background: var(--bg-surface);
          padding: 1.5rem 1.75rem;
          font-size: 0.9rem;
          line-height: 1.7;
        "
      >
        <section style="margin-bottom: 2rem;">
          <h2
            id="basic-usage"
            style="
              font-size: 1.3rem;
              margin: 0 0 0.75rem 0;
              padding-bottom: 0.5rem;
              border-bottom: 2px solid var(--border-light);
            "
          >
            Basic usage
          </h2>
          <p style="margin: 0 0 1rem 0;">
            The <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">contenteditable</code> attribute can be set to <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">"true"</code> or <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">"false"</code> to control whether an element and its children are editable.
          </p>
          <pre
            style="
              background: var(--bg-muted);
              border: 1px solid var(--border-light);
              border-radius: 0.5rem;
              padding: 1rem;
              overflow-x: auto;
              font-size: 0.85rem;
              line-height: 1.6;
            "
          ><code>&lt;div contenteditable="true"&gt;
  This text can be edited by the user.
&lt;/div&gt;</code></pre>
        </section>

        <section style="margin-bottom: 2rem;">
          <h2
            id="key-characteristics"
            style="
              font-size: 1.3rem;
              margin: 0 0 0.75rem 0;
              padding-bottom: 0.5rem;
              border-bottom: 2px solid var(--border-light);
            "
          >
            Key characteristics
          </h2>
          <ul style="margin: 0; padding-left: 1.5rem;">
            <li style="margin-bottom: 0.5rem;">
              <strong>Rich text editing:</strong> Unlike <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">&lt;input&gt;</code> or <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">&lt;textarea&gt;</code>, contenteditable supports formatted text, images, and complex HTML structures.
            </li>
            <li style="margin-bottom: 0.5rem;">
              <strong>Event-driven:</strong> Content changes trigger events like <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">input</code>, <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">beforeinput</code>, and composition events.
            </li>
            <li style="margin-bottom: 0.5rem;">
              <strong>Selection API:</strong> Works with the Selection and Range APIs for programmatic text manipulation.
            </li>
            <li style="margin-bottom: 0.5rem;">
              <strong>Browser differences:</strong> Behavior varies significantly across browsers, operating systems, and input methods (IME).
            </li>
          </ul>
        </section>

        <section style="margin-bottom: 2rem;">
          <h2
            id="common-use-cases"
            style="
              font-size: 1.3rem;
              margin: 0 0 0.75rem 0;
              padding-bottom: 0.5rem;
              border-bottom: 2px solid var(--border-light);
            "
          >
            Common use cases
          </h2>
          <ul style="margin: 0; padding-left: 1.5rem;">
            <li style="margin-bottom: 0.5rem;">Rich text editors (WYSIWYG)</li>
            <li style="margin-bottom: 0.5rem;">Collaborative editing interfaces</li>
            <li style="margin-bottom: 0.5rem;">Inline editing in applications</li>
            <li style="margin-bottom: 0.5rem;">Custom form inputs with formatting</li>
            <li style="margin-bottom: 0.5rem;">Code editors with syntax highlighting</li>
          </ul>
        </section>

        <section style="margin-bottom: 2rem;">
          <h2
            id="important-considerations"
            style="
              font-size: 1.3rem;
              margin: 0 0 0.75rem 0;
              padding-bottom: 0.5rem;
              border-bottom: 2px solid var(--border-light);
            "
          >
            Important considerations
          </h2>
          <div style="background: var(--status-draft-light); border-left: 4px solid var(--status-draft); padding: 0.75rem 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
            <strong style="display: block; margin-bottom: 0.3rem;">⚠️ Browser compatibility</strong>
            <p style="margin: 0; font-size: 0.85rem;">
              contenteditable behavior differs across browsers, especially for IME composition, paste operations, and formatting. Always test on your target platforms.
            </p>
          </div>
          <div style="background: var(--status-draft-light); border-left: 4px solid var(--status-draft); padding: 0.75rem 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
            <strong style="display: block; margin-bottom: 0.3rem;">⚠️ Security</strong>
            <p style="margin: 0; font-size: 0.85rem;">
              User-editable content can include arbitrary HTML. Always sanitize contenteditable output before storing or displaying it elsewhere.
            </p>
          </div>
          <div style="background: var(--status-draft-light); border-left: 4px solid var(--status-draft); padding: 0.75rem 1rem; border-radius: 0.5rem;">
            <strong style="display: block; margin-bottom: 0.3rem;">⚠️ execCommand deprecation</strong>
            <p style="margin: 0; font-size: 0.85rem;">
              The <code style="background: var(--bg-muted); padding: 0.15rem 0.4rem; border-radius: 4px; font-size: 0.85em;">document.execCommand()</code> API is deprecated. Use the Selection API and DOM manipulation for formatting operations.
            </p>
          </div>
        </section>

        <section>
          <h2
            id="related-resources"
            style="
              font-size: 1.3rem;
              margin: 0 0 0.75rem 0;
              padding-bottom: 0.5rem;
              border-bottom: 2px solid var(--border-light);
            "
          >
            Related resources
          </h2>
          <ul style="margin: 0; padding-left: 1.5rem;">
            <li style="margin-bottom: 0.5rem;">
              <a
                href="/docs/events"
                style="color: var(--accent-primary); text-decoration: none;"
              >
                Events in contenteditable →
              </a>
            </li>
            <li style="margin-bottom: 0.5rem;">
              <a
                href="/docs/ime-composition"
                style="color: var(--accent-primary); text-decoration: none;"
              >
                IME & Composition →
              </a>
            </li>
            <li style="margin-bottom: 0.5rem;">
              <a
                href="/scenarios"
                style="color: var(--accent-primary); text-decoration: none;"
              >
                Browse documented scenarios →
              </a>
            </li>
            <li style="margin-bottom: 0.5rem;">
              <a
                href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable"
                target="_blank"
                rel="noopener noreferrer"
                style="color: var(--accent-primary); text-decoration: none;"
              >
                MDN: contenteditable (external) →
              </a>
            </li>
          </ul>
        </section>
      </article>
      </div>
      <TableOfContents headings={headings} />
      </section>
    </main>
  </body>
</html>

